extends layout

block head
    title Buscar
    link(rel="stylesheet", href="/css/backgroundImage.css")

block content
    div#container.fondoCaramelos
        include navbar

        main.margen-superior-50
            div.container(ng-app="buscar")
                div.row(ng-controller="mainController")
                    include botonesMovil

                    div.col-md-12.col-xs-12
                        div.panel.panel-body
                            div.main-card-content
                                div.main-card-description
                                    div.main-card-name
                                        a(href="/gamaPropia")
                                            span.caramelo BÚSQUEDA DE CARAMELOS
                    div.col-md-12.col-sm-12.col-xs-12
                        div.panel.panel-body.main-card#toffees
                            //div.main-card-picture
                                a(href="#")
                                    img(src="/img/toffessYMasticables.png", style="width: 100%; height: 100%;")
                            div.main-card-content(style="word-wrap: break-word;")
                                div.main-card-name
                                    a.recipe-title(href="#")
                                        span.caramelo Buscar
                                div.main-card-description
                                    p.
                                        Aqu&iacute; podr&aacute;s buscar todos los caramelos disponibles en La Gloria S.L. actualmente.

                            div.col-md-12
                                h3.abel Variables auxiliares para realizar la consulta
                            div.col-md-12(style="text-align:center")
                                div.col-md-4(ng-bind-template="Sección: {{seccionSeleccionada.name}}")
                                div.col-md-4(ng-bind-template="Criterio: {{criterioSeleccionado.name}}")
                                div.col-md-4(ng-bind-template="Categoría: {{categoriaSeleccionada.name}}")
                                div.col-md-4(ng-bind-template="Nombre: {{nombreIntroducido.name}}")
                                //div.col-md-4(ng-bind-template="Toffees: {{toffees}}")
                                //div.col-md-4(ng-bind-template="Masticables: {{masticables}}")

                            div(style="padding-left:15px").col-md-6#seccionABuscar
                                div.col-md-4(style="padding-left:0px")
                                    h3(style="float:left").abel Buscar en:
                                div.col-md-8(style="margin-top:15px")
                                    select(ng-model="seccionSeleccionada", ng-options="section.name for section in sections",
                                    ng-init="seccionSeleccionada = sections[0]", ng-selected="seccionSeleccionada").form-control#selectSeccionABuscar

                            div(style="padding-left:15px").col-md-6#criterioDeBusqueda
                                div.col-md-4(style="padding-left:0px")
                                    h3(style="float:left").abel Buscar por:
                                div.col-md-8(style="margin-top:15px")
                                    select(ng-model="criterioSeleccionado", ng-options="criteria.name for criteria in criterias",
                                    ng-init="criterioSeleccionado = criterias[0]", ng-selected="criterioSeleccionado", ng-change="actualizarCriterio()").form-control#selectCriterioDeBusqueda

                            div(style="padding-left:15px", ng-show="criterioSeleccionado==criterias[2]").col-md-6#categorias
                                div.col-md-4(style="padding-left:0px")
                                    h3(style="float:left").abel Categoría:
                                div.col-md-8(style="margin-top:15px")
                                    select(ng-model="categoriaSeleccionada", ng-options="categoria.name for categoria in categorias",
                                    ng-init="categoriaSeleccionada = categorias[0]", ng-selected="categoriaSeleccionada").form-control#selectCategoria

                            div(style="padding-left:15px", ng-show="criterioSeleccionado==criterias[1]").col-md-6
                                div.col-md-4(style="padding-left:0px")
                                    h3(style="float:left").abel Nombre:
                                div.col-md-8(style="margin-top:15px;")
                                    input(type="text", ng-model="nombreIntroducido.name", ng-init="nombreIntroducido = nombreIntroducido.name").form-control#inputNombre

                            div.col-md-6.col-md-offset-3(style="text-align:center; margin-top: 15px")
                                a.btn.btn-default.btn-eathub-red(href="#", role="button", ng-click="buscar()")#buscar Buscar


                                //div.btn-group(data-toggle="buttons")
                                    label.btn.btn-primary.active Gama propia
                                        input(type="radio",name="options", checked)#option1
                                    br
                                    label.btn.btn-primary Publicitarios
                                        input(type="radio",name="options")#option2
                                //div
                                    input(type="text", placeholder="Introduzca el nombre del caramelo").form-control
                                    input(type="text", placeholder="Introduzca el precio del caramelo").form-control

                    div(style="clear:both")
                        div
                            div(ng-repeat="toffee in toffees", style="text-align:center")
                                div(ng-show="esSurtido(toffee)")
                                    div.col-md-4.col-sm-6
                                        div.panel.panel-body.panel-toffee
                                            div(style="text-align:left;")
                                                h1(style="margin-bottom:30px").modelo-toffee
                                                    a(ng-href="toffees/{{toffee._id}}", ng-bind-template="{{$index + 1}}. {{toffee.model}}").green.hover-red
                                            div.col-md-8.col-md-offset-2
                                                div(style="float:left; margin-right: 20px; width:100%; height: 260px").hidden-sm.hidden-xs
                                                    img(ng-src="/img/imagenesMias/{{toffee.image}}", height="100%", width="100%", style="margin-left: 10px; margin-bottom: 10px")
                                                div(style="float:left; margin-right: 20px; width:100%; height: 260px").hidden-md.hidden-lg
                                                    img(ng-src="/img/imagenesMias/{{toffee.image}}", height="100%", width="100%", style="margin-left: 10px; margin-bottom: 10px")
                                            //div.col-md-10
                                                div
                                                    h3(style="text-align: justify; margin-top: 0px", ng-bind-template="{{toffee.description}}").blue
                                div(ng-show="!esSurtido(toffee)")
                                    div.col-md-4.col-sm-6
                                        div.panel.panel-body.panel-toffee
                                            div(style="text-align:left")
                                                h1(style="margin-bottom:30px").modelo-toffee
                                                    a(ng-href="toffees/{{toffee._id}}", ng-bind-template="{{$index + 1}}. {{toffee.model}}").green.hover-red
                                            div.col-md-12
                                                div(style="margin-right: 20px; height: 100px; max-height: 200px;").margenInferior-30
                                                    img(ng-src="/img/imagenesMias/{{toffee.image}}", height="100%", width="100%", style="margin-left: 10px; margin-bottom: 10px")
                                            //div.col-md-12
                                                div.toffee-description
                                                    h3(style="text-align: justify; margin-top: 5px", ng-bind-template="{{toffee.description}}").blue

block scripts
    script(src='/js/jquery.js')
    script(src='/js/bootstrap.js')
    script(src='/js/angular.js')
    script(src='/js/angular/buscar.js')

